!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.HistogramCanvas=e()}}(function(){return function e(t,r,n){function i(a,l){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return i(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o={x:null,y:null,width:null,height:null,red:!0,green:!0,blue:!0,redColor:"#FF0000",greenColor:"#00FF00",blueColor:"#0000FF",compositeOperation:"screen"},a=function(){function e(t,r){n(this,e),this._canvas=t,this._ctx=t.getContext("2d"),this._data=null;for(var i in o)o.hasOwnProperty(i)&&(this[i]=r&&r[i]||o[i])}return i(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(this._data=e),!this._data)throw new Error("Histogram data is null");if(this.red&&!this._data.red||this.green&&!this._data.green||this.blue&&!this._data.blue)throw new Error("Histogram data missing red, green, or blue component");this._ctx.globalCompositeOperation=this.compositeOperation,t||this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height);var r=Math.max.apply(null,e.red.concat(e.green,e.blue));this.red&&this._drawColorGraph(r,e.red,this.redColor),this.green&&this._drawColorGraph(r,e.green,this.greenColor),this.blue&&this._drawColorGraph(r,e.blue,this.blueColor)}},{key:"_drawColorGraph",value:function(e,t,r){var n=this.height||this._canvas.height,i=this.width||this._canvas.width,o=this.x||0,a=this.y||this._canvas.height,l=this._ctx;l.fillStyle=r,l.beginPath(),l.moveTo(o,n);for(var s=0;s<t.length;s++){var h=t[s],u=Math.round(h/e*n),f=o+i/(t.length-1)*s;l.lineTo(f,a-u)}l.lineTo(o+i,a),l.closePath(),l.fill()}}]),e}();t.exports=a},{}]},{},[1])(1)});